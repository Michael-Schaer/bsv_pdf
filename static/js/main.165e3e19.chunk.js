(this["webpackJsonpbsv-export"]=this["webpackJsonpbsv-export"]||[]).push([[0],{31:function(t,e,n){t.exports={container:"Layout_container__3pAzR"}},38:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(1),s=n.n(i),c=n(26),a=n.n(c),o=(n(38),n(7)),u=n(32),d=n(9),j=n(2),h=n(10),l=n(12),b=function(){function t(e,n,r,i,s,c,a,o,u,d){Object(h.a)(this,t),this.id=void 0,this.firstName=void 0,this.lastName=void 0,this.scoutName=void 0,this.address=void 0,this.zipcode=void 0,this.town=void 0,this.country=void 0,this.email=void 0,this.salutation=void 0,this.id=e,this.firstName=n,this.lastName=r,this.scoutName=i,this.address=s,this.zipcode=c,this.town=a,this.country=o,this.email=u,this.salutation=d}return Object(l.a)(t,[{key:"toString",value:function(){return"".concat(this.firstName," ").concat(this.lastName," / ").concat(this.scoutName)}}]),t}(),O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(h.a)(this,t),this.days=void 0,this.count=void 0,this.count=n,this.days=e}return Object(l.a)(t,[{key:"total",value:function(){return this.days*this.count}}],[{key:"fromAttendanceSummary",value:function(e){return e.split(",").map((function(e){var n=e.split("x");return new t(+n[0],+n[1])}))}}]),t}(),v=n(27),x=n(18),f=n(28),m=n(19),g=function(t){Object(x.a)(n,t);var e=Object(f.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return n}(Object(m.a)(Error)),p=function(){function t(e){Object(h.a)(this,t),this.cantonalAssociation=void 0,this.regionalAssociation=void 0,this.year=void 0,this.kind=void 0,this.countNumber=void 0;var n=new RegExp(Object(v.a)(/PBS[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]?(CH)?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]([A-Za-z]{2})?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]?([0-9])([0-9])([0-9])\x2D([0-9]{2})/,{kind:3,regionalAssociation:4,countNumber:5,year:6}),"i").exec(e);if(!n)throw new g("Not a course number");this.cantonalAssociation=n[2],this.kind=+n[3],this.regionalAssociation=n[4],this.countNumber=+n[5],this.year=+n[6]}return Object(l.a)(t,[{key:"toString",value:function(){var t=this.cantonalAssociation?"".concat(this.cantonalAssociation," "):"";return"PBS CH ".concat(t).concat(this.kind).concat(this.regionalAssociation).concat(this.countNumber,"-").concat(this.year)}}]),t}();var y=n(29),A=function(t){var e={};return{courses:t.reduce((function(t,n){var r=n[20];if(!e[r]){var i=function(t){return t[20]?new b(t[20],t[21],t[22],t[23],t[24],t[25],t[26],t[27],t[28],t[29]):null}(n);i&&(e[r]=i)}var s=e[r],c=function(t){try{return{agreementIdFiver:t[0],courseIdFiver:t[1],kind:t[2],courseNumber:new p(t[5]),firstCourseDate:t[6],lastCourseDate:t[7],location:t[8],trainingDays:t[9],bsvDays:t[10],bsvEligibleParticipationsCount:t[11],bsvEligibleAttendances:t[13],bsvEligibleAttendance:O.fromAttendanceSummary(t[12]),leaderCount:t[14],allParticipantsCount:t[15],allParticipantsAttendanceSummary:t[16],allParticipantsAttendances:t[17],allParticipantsAttendance:O.fromAttendanceSummary(t[16]),cantonsCount:t[18],languagesCount:t[19]}}catch(e){if(e instanceof g)return null;throw e}}(n);return c&&t.push(Object(o.a)({advisor:s},c)),t}),[]),advisors:e}},N=function(t){var e=t.onChange,n=new FileReader;return n.onload=function(t){var n;Object(y.parse)(null===(n=t.target)||void 0===n?void 0:n.result,{complete:function(t){var n=t.data;e&&e(A(n))}})},Object(r.jsx)("input",{type:"file",onChange:function(t){var e,r=(null===(e=t.target)||void 0===e?void 0:e.files)&&t.target.files[0];r&&n.readAsText(r,"iso88591")}})},C=function(t){var e=t.courses;return Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{}),Object(r.jsx)("tbody",{children:e.map((function(t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.courseNumber.toString()}),Object(r.jsx)("td",{children:t.courseNumber.cantonalAssociation}),Object(r.jsx)("td",{children:t.kind}),Object(r.jsx)("td",{})]},t.courseNumber.toString())}))})]})};function S(t){var e=t.advisors;return Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{}),Object(r.jsx)("tbody",{children:e.map((function(t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.toString()}),Object(r.jsx)("td",{children:Object(r.jsx)(d.b,{to:"/advisors/".concat(t.id),children:"PDF"})})]},t.id||1e7*Math.random())}))})]})}var F=n(31),P=n.n(F),k=function(t){var e=t.children;return Object(r.jsx)("div",{className:P.a.container,children:e})},D=function(t){var e=t.onDataImport,n=t.onAmountChange,s=t.onYearChange,c=Object(i.useContext)(K),a=c.courses,o=c.advisors,u=c.amountPerCourse,d=c.year;return Object(r.jsx)(k,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"BSV PDF"}),Object(r.jsx)(N,{onChange:function(t){return e&&e(t)}}),Object(r.jsx)("input",{type:"number",step:"0.1",value:u,onChange:function(t){return n&&n(parseFloat(t.target.value))}}),Object(r.jsx)("input",{type:"number",step:"1",value:d,onChange:function(t){return s&&s(parseInt(t.target.value))}}),Object(r.jsx)("h2",{children:"Kurse"}),Object(r.jsx)(C,{courses:a}),Object(r.jsx)("h2",{children:"LKB"}),Object(r.jsx)(S,{advisors:Object.values(o)})]})})},w=n.p+"static/media/signature.efb88629.png",_=n(8),E=n.n(_);function B(t){var e=t.advisor,n=t.courses,i=t.year,s=t.amountPerCourse;return Object(r.jsxs)("div",{className:E.a.document,children:[Object(r.jsxs)("p",{children:["".concat(e.firstName," ").concat(e.lastName),Object(r.jsx)("br",{}),"".concat(e.address),Object(r.jsx)("br",{}),"".concat(e.zipcode," ").concat(e.town," ").concat(e.country),Object(r.jsx)("br",{})]}),Object(r.jsx)("h1",{className:E.a.title,children:"LKB Entsch\xe4digung ".concat(i)}),Object(r.jsx)("p",{children:e.salutation}),Object(r.jsx)("p",{children:"Im vergangenen Jahr hast Du die unten aufgef\xfchrten Kurse betreut. Daf\xfcr erh\xe4lst Du heute die LKB Entsch\xe4digung."}),Object(r.jsxs)("table",{className:E.a.table,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Kursschl\xfcssel"}),Object(r.jsx)("th",{children:"Kursart J+S LS/T"}),Object(r.jsx)("th",{children:"PBS Kursart"}),Object(r.jsx)("th",{className:E.a.right,children:"Entsch\xe4digung"})]})}),Object(r.jsx)("tbody",{children:n.map((function(t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.courseNumber.toString()}),Object(r.jsx)("td",{children:t.kind}),Object(r.jsx)("td",{children:t.kind}),Object(r.jsx)("td",{className:E.a.right,children:s.toFixed(2)})]})}))}),Object(r.jsx)("tfoot",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{children:"Total"}),Object(r.jsx)("td",{className:E.a.right,children:(n.length*s).toFixed(2)})]})})]}),Object(r.jsx)("p",{children:"Nochmals besten Dank f\xfcr Deinen Einsatz als Leiterkursbetreuer sowie f\xfcr die Begeisterung und die Zeit, die Du daf\xfcr einsetzt. Ich hoffe sehr, dass wir auch in Zukunft auf Deine Hilfe z\xe4hlen k\xf6nnen."}),Object(r.jsx)("p",{children:"Mit herzlichen Pfadigr\xfcssen"}),Object(r.jsx)("img",{className:E.a.signature,src:w,alt:"Signature"}),Object(r.jsxs)("p",{children:["Sonja Dietrich",Object(r.jsx)("br",{}),"Ausbildungssekretariat PBS",Object(r.jsx)("br",{}),"Direktwahl: 031 328 05 42",Object(r.jsx)("br",{}),"E-Mail: sonja.dietrich@pbs.ch"]})]})}var z=function(){var t=Object(j.f)().id,e=Object(i.useContext)(K),n=e.courses,s=e.advisors,c=e.amountPerCourse,a=e.year,o=s[t];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"no-print",children:[Object(r.jsx)(d.b,{to:"/",children:"Back"}),Object(r.jsx)("button",{onClick:function(){return window.print()},children:"Print"})]}),o&&Object(r.jsx)(B,{advisor:o,courses:n.filter((function(t){var e;return(null===(e=t.advisor)||void 0===e?void 0:e.id)===o.id})),year:a,amountPerCourse:c})]})},I=(n(44),{courses:[],advisors:{},amountPerCourse:10,year:(new Date).getFullYear()}),K=Object(i.createContext)(I),L=function(){var t=Object(i.useState)(I),e=Object(u.a)(t,2),n=e[0],s=e[1];return Object(r.jsx)(K.Provider,{value:n,children:Object(r.jsx)(d.a,{basename:"/bsv_pdf",children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{path:"/advisors/:id",children:Object(r.jsx)(z,{})}),Object(r.jsx)(j.a,{children:Object(r.jsx)(D,{onYearChange:function(t){return s((function(e){return Object(o.a)(Object(o.a)({},e),{},{year:t})}))},onAmountChange:function(t){return s((function(e){return Object(o.a)(Object(o.a)({},e),{},{amountPerCourse:t})}))},onDataImport:function(t){return s((function(e){return Object(o.a)(Object(o.a)({},e),t)}))}})})]})})})};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(L,{})}),document.getElementById("root"))},8:function(t,e,n){t.exports={document:"AdvisorStatementPdf_document__3aSbO",title:"AdvisorStatementPdf_title__1VpJQ",signature:"AdvisorStatementPdf_signature__g1MHp",table:"AdvisorStatementPdf_table__3Mk2g",right:"AdvisorStatementPdf_right__sgSDW"}}},[[45,1,2]]]);
//# sourceMappingURL=main.165e3e19.chunk.js.map