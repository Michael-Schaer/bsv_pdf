(this["webpackJsonpbsv-export"]=this["webpackJsonpbsv-export"]||[]).push([[0],{30:function(t,e,n){t.exports={container:"App_container__1MQN3"}},38:function(t,e,n){},39:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var i=n(0),s=n(1),r=n.n(s),c=n(25),a=n.n(c),o=(n(38),n(31)),u=n(13),d=n(2),j=(n(39),n(32)),h=n(8),l=n(10),b=function(){function t(e,n,i,s,r,c,a,o,u,d){Object(h.a)(this,t),this.id=void 0,this.firstName=void 0,this.lastName=void 0,this.scoutName=void 0,this.address=void 0,this.zipcode=void 0,this.town=void 0,this.country=void 0,this.email=void 0,this.salutation=void 0,this.id=e,this.firstName=n,this.lastName=i,this.scoutName=s,this.address=r,this.zipcode=c,this.town=a,this.country=o,this.email=u,this.salutation=d}return Object(l.a)(t,[{key:"toString",value:function(){return"".concat(this.firstName," ").concat(this.lastName," / ").concat(this.scoutName)}}]),t}(),O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(h.a)(this,t),this.days=void 0,this.count=void 0,this.count=n,this.days=e}return Object(l.a)(t,[{key:"total",value:function(){return this.days*this.count}}],[{key:"fromAttendanceSummary",value:function(e){return e.split(",").map((function(e){var n=e.split("x");return new t(+n[0],+n[1])}))}}]),t}(),v=n(26),x=n(17),f=n(27),m=n(18),g=function(t){Object(x.a)(n,t);var e=Object(f.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return n}(Object(m.a)(Error)),p=function(){function t(e){Object(h.a)(this,t),this.cantonalAssociation=void 0,this.regionalAssociation=void 0,this.year=void 0,this.kind=void 0,this.countNumber=void 0;var n=new RegExp(Object(v.a)(/PBS[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]?(CH)?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]([A-Za-z]{2})?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]?([0-9])([0-9])([0-9])\x2D([0-9]{2})/,{kind:3,regionalAssociation:4,countNumber:5,year:6}),"i").exec(e);if(!n)throw new g("Not a course number");this.cantonalAssociation=n[2],this.kind=+n[3],this.regionalAssociation=n[4],this.countNumber=+n[5],this.year=+n[6]}return Object(l.a)(t,[{key:"toString",value:function(){var t=this.cantonalAssociation?"".concat(this.cantonalAssociation," "):"";return"PBS CH ".concat(t).concat(this.kind).concat(this.regionalAssociation).concat(this.countNumber,"-").concat(this.year)}}]),t}();var A=n(28),N=function(t){var e={};return{courses:t.reduce((function(t,n){var i=n[20];if(!e[i]){var s=function(t){return t[20]?new b(t[20],t[21],t[22],t[23],t[24],t[25],t[26],t[27],t[28],t[29]):null}(n);s&&(e[i]=s)}var r=e[i],c=function(t){try{return{agreementIdFiver:t[0],courseIdFiver:t[1],kind:t[2],courseNumber:new p(t[5]),firstCourseDate:t[6],lastCourseDate:t[7],location:t[8],trainingDays:t[9],bsvDays:t[10],bsvEligibleParticipationsCount:t[11],bsvEligibleAttendances:t[13],bsvEligibleAttendance:O.fromAttendanceSummary(t[12]),leaderCount:t[14],allParticipantsCount:t[15],allParticipantsAttendanceSummary:t[16],allParticipantsAttendances:t[17],allParticipantsAttendance:O.fromAttendanceSummary(t[16]),cantonsCount:t[18],languagesCount:t[19]}}catch(e){if(e instanceof g)return null;throw e}}(n);return c&&t.push(Object(j.a)({advisor:r},c)),t}),[]),advisors:e}},y=function(t){var e=t.onChange,n=new FileReader;return n.onload=function(t){var n;Object(A.parse)(null===(n=t.target)||void 0===n?void 0:n.result,{complete:function(t){var n=t.data;e&&e(N(n))}})},Object(i.jsx)("input",{type:"file",onChange:function(t){var e,i=(null===(e=t.target)||void 0===e?void 0:e.files)&&t.target.files[0];i&&n.readAsText(i,"iso88591")}})},S=function(t){var e=t.courses;return Object(i.jsxs)("table",{children:[Object(i.jsx)("thead",{}),Object(i.jsx)("tbody",{children:e.map((function(t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:t.courseNumber.toString()}),Object(i.jsx)("td",{children:t.courseNumber.cantonalAssociation}),Object(i.jsx)("td",{children:t.kind}),Object(i.jsx)("td",{})]},t.courseNumber.toString())}))})]})};function F(t){var e=t.advisors;return Object(i.jsxs)("table",{children:[Object(i.jsx)("thead",{}),Object(i.jsx)("tbody",{children:e.map((function(t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:t.toString()}),Object(i.jsx)("td",{children:Object(i.jsx)(u.b,{to:"/advisors/".concat(t.id),children:"PDF"})})]},t.id||1e7*Math.random())}))})]})}var k=n(30),P=n.n(k);var _=function(t){var e=t.onImport,n=Object(s.useContext)(K),r=n.courses,c=n.advisors;return Object(i.jsx)("div",{className:P.a.container,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"BSV PDF"}),Object(i.jsx)(y,{onChange:function(t){return e&&e(t)}}),Object(i.jsx)("h2",{children:"Kurse"}),Object(i.jsx)(S,{courses:r}),Object(i.jsx)("h2",{children:"LKB"}),Object(i.jsx)(F,{advisors:Object.values(c)})]})})},C=n.p+"static/media/signature.efb88629.png",D=n(7),w=n.n(D);function E(t){var e=t.advisor,n=t.courses,s=t.year,r=t.amountPerCourse;return Object(i.jsxs)("div",{className:w.a.document,children:[Object(i.jsxs)("p",{children:["".concat(e.firstName," ").concat(e.lastName),Object(i.jsx)("br",{}),"".concat(e.address),Object(i.jsx)("br",{}),"".concat(e.zipcode," ").concat(e.town," ").concat(e.country),Object(i.jsx)("br",{})]}),Object(i.jsx)("h1",{className:w.a.title,children:"LKB Entsch\xe4digung ".concat(s)}),Object(i.jsx)("p",{children:e.salutation}),Object(i.jsx)("p",{children:"Im vergangenen Jahr hast Du die unten aufgef\xfchrten Kurse betreut. Daf\xfcr erh\xe4lst Du heute die LKB Entsch\xe4digung."}),Object(i.jsxs)("table",{className:w.a.table,children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Kursschl\xfcssel"}),Object(i.jsx)("th",{children:"Kursart J+S LS/T"}),Object(i.jsx)("th",{children:"PBS Kursart"}),Object(i.jsx)("th",{className:w.a.right,children:"Entsch\xe4digung"})]})}),Object(i.jsx)("tbody",{children:n.map((function(t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:t.courseNumber.toString()}),Object(i.jsx)("td",{children:t.kind}),Object(i.jsx)("td",{children:t.kind}),Object(i.jsx)("td",{className:w.a.right,children:r.toFixed(2)})]})}))}),Object(i.jsx)("tfoot",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{}),Object(i.jsx)("td",{}),Object(i.jsx)("td",{children:"Total"}),Object(i.jsx)("td",{className:w.a.right,children:(n.length*r).toFixed(2)})]})})]}),Object(i.jsx)("p",{children:"Nochmals besten Dank f\xfcr Deinen Einsatz als Leiterkursbetreuer sowie f\xfcr die Begeisterung und die Zeit, die Du daf\xfcr einsetzt. Ich hoffe sehr, dass wir auch in Zukunft auf Deine Hilfe z\xe4hlen k\xf6nnen."}),Object(i.jsx)("p",{children:"Mit herzlichen Pfadigr\xfcssen"}),Object(i.jsx)("img",{className:w.a.signature,src:C,alt:"Signature"}),Object(i.jsxs)("p",{children:["Sonja Dietrich",Object(i.jsx)("br",{}),"Ausbildungssekretariat PBS",Object(i.jsx)("br",{}),"Direktwahl: 031 328 05 42",Object(i.jsx)("br",{}),"E-Mail: sonja.dietrich@pbs.ch"]})]})}function B(){var t=Object(d.f)().id,e=Object(s.useContext)(K),n=e.courses,r=e.advisors[t];return r?Object(i.jsx)(E,{advisor:r,courses:n.filter((function(t){var e;return(null===(e=t.advisor)||void 0===e?void 0:e.id)===r.id})),year:2020,amountPerCourse:10}):Object(i.jsx)(i.Fragment,{})}var z={courses:[],advisors:{}},K=Object(s.createContext)(z);var I=function(){var t=Object(s.useState)(z),e=Object(o.a)(t,2),n=e[0],r=e[1];return Object(i.jsx)(K.Provider,{value:n,children:Object(i.jsx)(u.a,{children:Object(i.jsxs)(d.c,{children:[Object(i.jsx)(d.a,{exact:!0,path:"/",children:Object(i.jsx)(_,{onImport:function(t){return r({courses:t.courses,advisors:t.advisors})}})}),Object(i.jsx)(d.a,{path:"/advisors/:id",children:Object(i.jsx)(B,{})})]})})})};a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(I,{})}),document.getElementById("root"))},7:function(t,e,n){t.exports={document:"AdvisorStatementPdf_document__3aSbO",title:"AdvisorStatementPdf_title__1VpJQ",signature:"AdvisorStatementPdf_signature__g1MHp",table:"AdvisorStatementPdf_table__3Mk2g",right:"AdvisorStatementPdf_right__sgSDW"}}},[[45,1,2]]]);
//# sourceMappingURL=main.e3c80e40.chunk.js.map